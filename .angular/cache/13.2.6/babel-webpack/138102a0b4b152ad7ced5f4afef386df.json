{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { TimelyTable } from 'src/app/shared/timely-table.model';\nlet TableFormComponent = class TableFormComponent {\n  constructor(service) {\n    this.service = service;\n    this.formData = new TimelyTable();\n  }\n\n  ngOnInit() {}\n\n  onButtonClick(form) {\n    if (this.service.formData.timeId == 0) {\n      this.insertTimeTable(form);\n    } else {\n      this.updateTimeTable(form);\n    }\n  }\n\n  insertTimeTable(form) {\n    this.service.postForm().subscribe(result => {\n      this.resetform(form);\n      this.service.refreshForm();\n      console.log(result);\n    });\n  }\n\n  updateTimeTable(form) {\n    this.service.putForm().subscribe(result => {\n      this.resetform(form);\n      this.service.refreshForm();\n      console.log(result);\n    });\n  }\n\n  updatestoptime(stoptime) {\n    stoptime = new Date().toLocaleString();\n    this.service.putStopTime(stoptime).subscribe(result => {\n      this.service.refreshForm();\n      console.log(result);\n    });\n  }\n\n  resetform(form) {\n    form.form.reset();\n    this.service.formData = new TimelyTable();\n  }\n\n};\nTableFormComponent = __decorate([Component({\n  selector: 'app-table-form',\n  templateUrl: './table-form.component.html'\n})], TableFormComponent);\nexport { TableFormComponent };","map":null,"metadata":{},"sourceType":"module"}